<div class="card-wrapper">
    <div class="card col-12 col-sm-11 col-md-10 col-lg-8 col-xl-6 mx-auto home-card">
        <div class="card-header">
            <h4 class="text-center title">Regisztráció</h4>
        </div>
        <div class="card-body">
            <div *ngIf="errorMessage != null" class="alert alert-danger">{{ errorMessage }}</div>
            <form (ngSubmit)="onSubmit(f)" #f="ngForm" novalidate passwordValidator>
                <div class="form-group name-wrapper">
                    <div class="name-wrapper-item">
                        <label for="firstName">Vezetéknév</label>
                        <input class="form-control" type="text" id="firstName" name="firstName" [(ngModel)]="firstName"
                            required #fn="ngModel">
                        <div class="alert alert-warning p-2 mt-1" *ngIf="!fn.valid && (fn.touched || fn.dirty)">
                            <div *ngIf="fn.errors?.['required']">Kötelező mező</div>
                        </div>
                    </div>
                    <div class="name-wrapper-item">
                        <label for="lastName">Keresztnév</label>
                        <input class="form-control" type="text" id="lastName" name="lastName" [(ngModel)]="lastName"
                            required #ln="ngModel">
                        <div class="alert alert-warning p-2 mt-1" *ngIf="!ln.valid && (ln.touched || ln.dirty)">
                            <div *ngIf="ln.errors?.['required']">Kötelező mező</div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="username">Felhasználónév</label>
                    <input class="form-control" type="text" id="username" name="username" [(ngModel)]="username"
                        #un="ngModel">
                    <div class="alert alert-warning p-2 mt-1" *ngIf="!un.valid && (un.touched || un.dirty)">
                        <div *ngIf="un.errors?.['required']">Kötelező mező</div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="email">Email cím</label>
                    <input class="form-control" type="email" id="email" name="email" [(ngModel)]="email" email required
                        #em="ngModel">
                    <div class="alert alert-warning p-2 mt-1" *ngIf="!em.valid && (em.touched || em.dirty)">
                        <div *ngIf="em.errors?.['required']">Kötelező mező</div>
                        <div *ngIf="em.errors?.['email']">Érvénytelen email formátum</div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="password">Jelszó</label>
                    <input class="form-control" type="password" id="password" name="password" [(ngModel)]="password"
                        required minlength="8" #pw="ngModel">
                    <div class="alert alert-warning p-2 mt-1" *ngIf="!pw.valid && (pw.touched || pw.dirty)">
                        <div *ngIf="pw.errors?.['required']">Kötelező mező</div>
                        <div *ngIf="pw.errors?.['minlength']">Legalább 8 karakternek kell lennie a jelszónak</div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="password_confirm">Jelszó megerősítése</label>
                    <input class="form-control" type="password" id="password_confirm" name="password_confirm"
                        [(ngModel)]="password_confirm" required #pwc="ngModel">
                    <div class="alert alert-warning p-2 mt-1" *ngIf="!pwc.valid && (pwc.touched || pwc.dirty)">
                        <div *ngIf="pwc.errors?.['required']">Kötelező mező
                        </div>
                    </div>
                    <div class="alert alert-warning p-2 mt-1"
                        *ngIf="f.errors?.['matchingError'] && (pwc.touched || pwc.dirty)">
                        <div>Nem egyező jelszavak!</div>
                    </div>
                </div>
                <div class="mt-3 d-flex flex-wrap buttons">
                    <button #button class="btn btn-primary" type="submit" [disabled]="!f.form.valid" (click)="openModal()">
                        <div #spinner class="spinner hidden" id="spinner"></div>
                        <span #buttontext id="button-text">Regisztráció</span>
                    </button>
                    <button class="btn btn-primary" type="button" (click)="onBack()"><span
                            style="margin-right: 0.3rem;">&#11104;</span>Vissza</button>
                </div>
            </form>
        </div>
    </div>
</div>
